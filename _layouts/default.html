<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ site.title }}</title>
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body>

  <!-- Navbar -->
  <div class="navbar">
    <a href="{{ site.baseurl }}/">Home</a>
    <a href="{{ site.baseurl }}/about">About</a>
    <a href="{{ site.baseurl }}/contact">Contact</a>
  </div>

  <!-- Main Content -->
  <div class="container">
    <h1>{{ site.title }}</h1>

    <div class="homepage-posts">
      {% for post in site.posts %}
        <div class="article-preview">
          {% if post.thumbnail %}
            <img src="{{ post.thumbnail }}" alt="{{ post.title }}" class="thumbnail">
          {% elsif post.content contains '<img' %}
            <!-- If the post has an image, extract the first image (to be used as thumbnail) -->
            <img src="{{ post.content | split: '<img' | last | split: 'src="' | last | split: '"' | first }}" class="thumbnail" alt="{{ post.title }}">
          {% endif %}
          
          <h2><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
          <p>{{ post.excerpt | truncatewords: 50 }}</p>
          <a href="{{ post.url | relative_url }}">Read more</a>
        </div>
      {% endfor %}
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p>&copy; 2024 {{ site.title }}. All Rights Reserved.</p>
  </footer>

</body>
</html>
